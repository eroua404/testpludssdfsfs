(()=>{"use strict";var e,t={445:()=>{var e=wp.data,t=e.dispatch,i=e.select,n=e.subscribe;var o=wp.blockEditor,r=o.InspectorAdvancedControls,a=o.BlockControls,s=wp.components,l=s.TextControl,c=s.CheckboxControl,d=s.PanelBody,p=s.ToolbarGroup,u=s.ToolbarButton,b=wp.serverSideRender,w=wp.element.Fragment,m=wp.i18n.__;const y={title:window.tastyRecipesBlockEditor.recipeBlockTitle,icon:"carrot",category:"common",html:!1,attributes:{id:{type:"number"},lastUpdated:{type:"number"},author_link:{type:"string",default:""},disableJSON:{type:"boolean",default:!1},disable_unit_conversion:{type:"boolean",default:!1},disable_scaling:{type:"boolean",default:!1}},edit:function(e){var t=function(t){!function(e,t){var i=new Date;window.tastyRecipesBlockEditor.recipeDataStore[t.recipe.id]=t.recipe,e.setAttributes({id:t.recipe.id,lastUpdated:i.getTime()}),void 0!==wp.hooks&&wp.hooks.doAction("tasty_recipes_updated_recipe",t.recipe)}(e,t)},i=function(){window.tastyRecipesEditorModal.open({author_name:window.tastyRecipesEditorModalData.defaultAuthorName,title:wp.data.select("core/editor").getEditedPostAttribute("title"),diet:""},t)};if(void 0===e.attributes.id||0===e.attributes.id)return void 0===e.attributes.id&&(window.tastyRecipesEditorModal.open({author_name:window.tastyRecipesEditorModalData.defaultAuthorName,title:wp.data.select("core/editor").getEditedPostAttribute("title"),diet:""},t),e.setAttributes({id:0})),wp.element.createElement(w,null,wp.element.createElement(a,null,wp.element.createElement(p,null,wp.element.createElement((function(){return wp.element.createElement(u,{className:"components-edit-tasty-recipe-button",icon:"edit",label:m("Create Tasty Recipe","tasty-recipes"),onClick:i})}),null))),wp.element.createElement("div",{role:"button",tabIndex:0,onClick:i,onKeyDown:i},wp.element.createElement("p",null,m("No Tasty Recipe created yet. Click here to start one.","tasty-recipes"))));var n=function(){void 0!==window.tastyRecipesBlockEditor.recipeDataStore[e.attributes.id]&&window.tastyRecipesEditorModal.open(window.tastyRecipesBlockEditor.recipeDataStore[e.attributes.id],t)};return wp.element.createElement(w,null,wp.element.createElement(a,null,wp.element.createElement(p,null,wp.element.createElement((function(){return wp.element.createElement(u,{className:"components-edit-tasty-recipe-button",icon:"edit",label:m("Edit Tasty Recipe","tasty-recipes"),onClick:n})}),null))),wp.element.createElement("div",{role:"button",tabIndex:0,onClick:n,onKeyDown:n},wp.element.createElement(b,{block:"wp-tasty/tasty-recipe",attributes:e.attributes})),wp.element.createElement(r,null,wp.element.createElement(d,{title:m("Recipe options","tasty-recipes"),initialOpen:!0},wp.element.createElement(c,{label:m("This is a non-food recipe (craft, cleaning product, etc)","tasty-recipes"),checked:e.attributes.disableJSON,onChange:function(){e.setAttributes({disableJSON:!e.attributes.disableJSON})}}),wp.element.createElement(l,{label:m("Override Author Link","tasty-recipes"),value:e.attributes.author_link,onChange:function(t){e.setAttributes({author_link:t})}}),wp.element.createElement(c,{label:m("Disable unit conversion for this recipe","tasty-recipes"),checked:e.attributes.disable_unit_conversion,onChange:function(){e.setAttributes({disable_unit_conversion:!e.attributes.disable_unit_conversion})}}),wp.element.createElement(c,{label:m("Disable scaling for this recipe","tasty-recipes"),checked:e.attributes.disable_scaling,onChange:function(){e.setAttributes({disable_scaling:!e.attributes.disable_scaling})}}))))},save:function(){return null},transforms:{from:[{type:"shortcode",tag:"tasty-recipe",attributes:{id:{type:"number",shortcode:function(e){return void 0===e.named.id?0:parseInt(e.named.id)}}}}]}};(0,wp.blocks.registerBlockType)("wp-tasty/tasty-recipe",y),window.addEventListener("load",(function(){var e,o,r,a;if(e=!1,o={},r=t("core/notices").createNotice,a=i("core/notices").getNotices,window.tastyRecipesBlockEditor.editorNotices.forEach((function(t,i){r(t.type,t.content,{id:t.id||null,isDismissible:t.dismissible||!1,actions:t.actions||[]}),void 0!==t.id&&void 0!==t.dismiss_action&&(o[t.id]=t.dismiss_action),i===window.tastyRecipesBlockEditor.editorNotices.length-1&&(e=!0)})),n((function(){var t=null;if(e){var i=a().map((function(e){return e.id}));Object.keys(o).forEach((function(e){-1===i.indexOf(e)&&(t=o[e],delete o[e],window.fetch(t))}))}})),window.history){var s=window.location.href;(s=s.replace("&tasty_recipes_message=converted_recipe_success",""))!==window.location.href&&window.history.replaceState("","",s)}}))},47:()=>{},117:()=>{},798:()=>{},127:()=>{},33:()=>{},18:()=>{},364:()=>{}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var r=i[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.m=t,e=[],n.O=(t,i,o,r)=>{if(!i){var a=1/0;for(d=0;d<e.length;d++){for(var[i,o,r]=e[d],s=!0,l=0;l<i.length;l++)(!1&r||a>=r)&&Object.keys(n.O).every((e=>n.O[e](i[l])))?i.splice(l--,1):(s=!1,r<a&&(a=r));if(s){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[i,o,r]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={780:0,269:0,39:0,254:0,953:0,883:0,905:0,325:0};n.O.j=t=>0===e[t];var t=(t,i)=>{var o,r,[a,s,l]=i,c=0;if(a.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)var d=l(n)}for(t&&t(i);c<a.length;c++)r=a[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},i=self.webpackChunktasty_recipes=self.webpackChunktasty_recipes||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),n.O(void 0,[269,39,254,953,883,905,325],(()=>n(445))),n.O(void 0,[269,39,254,953,883,905,325],(()=>n(127))),n.O(void 0,[269,39,254,953,883,905,325],(()=>n(33))),n.O(void 0,[269,39,254,953,883,905,325],(()=>n(18))),n.O(void 0,[269,39,254,953,883,905,325],(()=>n(364))),n.O(void 0,[269,39,254,953,883,905,325],(()=>n(47))),n.O(void 0,[269,39,254,953,883,905,325],(()=>n(117)));var o=n.O(void 0,[269,39,254,953,883,905,325],(()=>n(798)));o=n.O(o)})();